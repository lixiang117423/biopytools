========================================================
è¯Šæ–­å¼€å§‹ï¼šæ£€æŸ¥ä¸»æœºç¯å¢ƒ
ä¸»æœºä¸Šçš„ CUDA_VISIBLE_DEVICES: 0,1,2,3
ä¸»æœºä¸Šçš„ nvidia-smi è¾“å‡º:
Sat Oct 11 12:05:45 2025       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.54.15              Driver Version: 550.54.15      CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA L20                     On  |   00000000:49:00.0 Off |                    0 |
| N/A   41C    P8             38W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   1  NVIDIA L20                     On  |   00000000:54:00.0 Off |                    0 |
| N/A   40C    P8             37W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   2  NVIDIA L20                     On  |   00000000:96:00.0 Off |                    0 |
| N/A   40C    P8             38W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   3  NVIDIA L20                     On  |   00000000:BC:00.0 Off |                    0 |
| N/A   40C    P8             37W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
========================================================

========================================================
è¯Šæ–­æ ¸å¿ƒï¼šåœ¨ Apptainer å®¹å™¨å†…æ£€æŸ¥ç¯å¢ƒ
--- è¿›å…¥å®¹å™¨å†…éƒ¨ ---
å®¹å™¨å†…çš„ CUDA_VISIBLE_DEVICES: $CUDA_VISIBLE_DEVICES
å®¹å™¨å†…çš„ nvidia-smi è¾“å‡º:
Sat Oct 11 12:05:45 2025       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.54.15              Driver Version: 550.54.15      CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA L20                     On  |   00000000:49:00.0 Off |                    0 |
| N/A   41C    P8             38W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   1  NVIDIA L20                     On  |   00000000:54:00.0 Off |                    0 |
| N/A   40C    P8             37W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   2  NVIDIA L20                     On  |   00000000:96:00.0 Off |                    0 |
| N/A   39C    P8             38W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   3  NVIDIA L20                     On  |   00000000:BC:00.0 Off |                    0 |
| N/A   40C    P8             37W /  350W |       0MiB /  46068MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
--- é€€å‡ºå®¹å™¨å†…éƒ¨ ---
========================================================

å‡†å¤‡è¿è¡Œ Python ä¸»è„šæœ¬...
[2025-10-11 12:05:46] INFO - ğŸ³ ä½¿ç”¨å®¹å™¨å¼•æ“ | Using container engine: apptainer
[2025-10-11 12:05:46] INFO - ğŸš€ å¼€å§‹parabricks WGSæ‰¹å¤„ç†åˆ†ææµç¨‹ | Starting parabricks WGS batch processing analysis pipeline
[2025-10-11 12:05:46] INFO - ğŸ“‚ è¾“å…¥ç›®å½• | Input directory: /share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean
[2025-10-11 12:05:46] INFO - ğŸ“¤ è¾“å‡ºç›®å½• | Output directory: /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping
[2025-10-11 12:05:46] INFO - ğŸ§¬ å‚è€ƒåŸºå› ç»„ | Reference genome: /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data/GCF_000149755.1_P.sojae_V3.0_genomic_modified.fna
[2025-10-11 12:05:46] INFO - ğŸ§© æ£€æŸ¥ä¾èµ–è½¯ä»¶ | Checking dependencies
[2025-10-11 12:05:46] INFO - âœ… âœ“ parabricksç¨‹åºæ£€æŸ¥é€šè¿‡ | parabricks program check passed
[2025-10-11 12:05:46] INFO - ğŸ” æœç´¢è¾“å…¥æ–‡ä»¶ | Searching input files
[2025-10-11 12:05:46] INFO - âœ… æ‰¾åˆ° 25 ä¸ªæ ·å“éœ€è¦å¤„ç† | Found 25 samples to process
[2025-10-11 12:05:46] INFO - ============================================================
[2025-10-11 12:05:46] INFO - ğŸ”¬ å¼€å§‹æ‰¹é‡å¤„ç†æ ·å“ | Starting batch processing of samples
[2025-10-11 12:05:46] INFO - [1/25] ğŸ§ª å¤„ç†æ ·å“ | Processing sample: SRR10321552
[2025-10-11 12:05:46] INFO - ğŸš€ å¼€å§‹å¤„ç†æ ·å“ | Starting to process sample: SRR10321552
[2025-10-11 12:05:46] INFO -   ğŸ“„ R1æ–‡ä»¶ | R1 file: SRR10321552_1.clean.fq.gz
[2025-10-11 12:05:46] INFO -   ğŸ“„ R2æ–‡ä»¶ | R2 file: SRR10321552_2.clean.fq.gz
[2025-10-11 12:05:46] INFO -   ğŸ“œ è¾“å‡ºVCF | Output VCF: vcf/SRR10321552.vcf.gz
[2025-10-11 12:05:46] INFO -   ğŸ’¾ è¾“å‡ºBAM | Output BAM: bam/SRR10321552.sorted.bam
[2025-10-11 12:05:46] INFO -   1ï¸âƒ£ æ­¥éª¤1: FASTQ to BAM | Step 1: FASTQ to BAM
[2025-10-11 12:05:46] INFO - ğŸš€ æ‰§è¡Œæ­¥éª¤ | Executing step: ğŸ§¬ fq2bam (æ ·å“: SRR10321552) | fq2bam (sample: SRR10321552)
[2025-10-11 12:05:46] INFO - ğŸ’» å®¹å™¨å‘½ä»¤ | Container command: apptainer exec --nv --bind=/share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean:/share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam /share/apps/containers/parabricks.sif pbrun fq2bam --ref /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data/GCF_000149755.1_P.sojae_V3.0_genomic_modified.fna --in-fq /share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean/SRR10321552_1.clean.fq.gz /share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean/SRR10321552_2.clean.fq.gz --out-bam /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam/SRR10321552.sorted.bam
[2025-10-11 12:05:46] INFO - ğŸ“‚ å·¥ä½œç›®å½• | Working directory: /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping
[2025-10-11 12:06:34] INFO - âœ… å‘½ä»¤æ‰§è¡ŒæˆåŠŸ | Command executed successfully: ğŸ§¬ fq2bam (æ ·å“: SRR10321552) | fq2bam (sample: SRR10321552)
[2025-10-11 12:06:34] INFO -   2ï¸âƒ£ æ­¥éª¤2: BAM to VCF | Step 2: BAM to VCF
[2025-10-11 12:06:34] INFO - ğŸš€ æ‰§è¡Œæ­¥éª¤ | Executing step: ğŸ§¬ haplotypecaller (æ ·å“: SRR10321552) | haplotypecaller (sample: SRR10321552)
[2025-10-11 12:06:34] INFO - ğŸ’» å®¹å™¨å‘½ä»¤ | Container command: apptainer exec --nv --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam /share/apps/containers/parabricks.sif pbrun haplotypecaller --ref /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data/GCF_000149755.1_P.sojae_V3.0_genomic_modified.fna --in-bam /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam/SRR10321552.sorted.bam --out-variants /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/vcf/SRR10321552.vcf.gz --gvcf
[2025-10-11 12:06:34] INFO - ğŸ“‚ å·¥ä½œç›®å½• | Working directory: /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping
[2025-10-11 12:06:35] ERROR - âŒ å‘½ä»¤æ‰§è¡Œå¤±è´¥ | Command execution failed: ğŸ§¬ haplotypecaller (æ ·å“: SRR10321552) | haplotypecaller (sample: SRR10321552)
[2025-10-11 12:06:35] ERROR - ğŸ”¢ é”™è¯¯ä»£ç  | Error code: 255
[2025-10-11 12:06:35] ERROR - ğŸ’¬ é”™è¯¯ä¿¡æ¯ | Error message: [PB Info 2025-Oct-11 12:06:35] ------------------------------------------------------------------------------
[PB Info 2025-Oct-11 12:06:35] ||                 Parabricks accelerated Genomics Pipeline                 ||
[PB Info 2025-Oct-11 12:06:35] ||                              Version 4.5.1-1                             ||
[PB Info 2025-Oct-11 12:06:35] ||                         GPU-GATK4 HaplotypeCaller                        ||
[PB Info 2025-Oct-11 12:06:35] ------------------------------------------------------------------------------
[PB [31mError[0m 2025-Oct-11 12:06:35][src/haplotype_vc.cpp:1254] Output file name should be .g.vcf/.g.vcf.gz in gvcf mode, exiting.

[2025-10-11 12:06:35] ERROR - ğŸ“œ æ ‡å‡†è¾“å‡º | Stdout: /usr/local/parabricks/binaries/bin/htvc /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data/GCF_000149755.1_P.sojae_V3.0_genomic_modified.fna /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam/SRR10321552.sorted.bam 4 -o /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/vcf/SRR10321552.vcf.gz -nt 5 -g
Process exited with failure. Please check the logs.
Process exited with failure. Please check the logs.
For technical support visit https://docs.nvidia.com/clara/index.html#parabricks
Exiting...
Please visit https://docs.nvidia.com/clara/#parabricks for detailed documentation


Could not run haplotypecaller
Exiting pbrun ...

[2025-10-11 12:06:35] ERROR -   âŒ âœ— æ ·å“ SRR10321552 haplotypecaller æ­¥éª¤å¤±è´¥ | Sample SRR10321552 haplotypecaller step failed
[2025-10-11 12:06:35] INFO - ----------------------------------------
[2025-10-11 12:06:35] INFO - [2/25] ğŸ§ª å¤„ç†æ ·å“ | Processing sample: SRR10321553
[2025-10-11 12:06:35] INFO - ğŸš€ å¼€å§‹å¤„ç†æ ·å“ | Starting to process sample: SRR10321553
[2025-10-11 12:06:35] INFO -   ğŸ“„ R1æ–‡ä»¶ | R1 file: SRR10321553_1.clean.fq.gz
[2025-10-11 12:06:35] INFO -   ğŸ“„ R2æ–‡ä»¶ | R2 file: SRR10321553_2.clean.fq.gz
[2025-10-11 12:06:35] INFO -   ğŸ“œ è¾“å‡ºVCF | Output VCF: vcf/SRR10321553.vcf.gz
[2025-10-11 12:06:35] INFO -   ğŸ’¾ è¾“å‡ºBAM | Output BAM: bam/SRR10321553.sorted.bam
[2025-10-11 12:06:35] INFO -   1ï¸âƒ£ æ­¥éª¤1: FASTQ to BAM | Step 1: FASTQ to BAM
[2025-10-11 12:06:35] INFO - ğŸš€ æ‰§è¡Œæ­¥éª¤ | Executing step: ğŸ§¬ fq2bam (æ ·å“: SRR10321553) | fq2bam (sample: SRR10321553)
[2025-10-11 12:06:35] INFO - ğŸ’» å®¹å™¨å‘½ä»¤ | Container command: apptainer exec --nv --bind=/share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean:/share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping --bind=/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam:/share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam /share/apps/containers/parabricks.sif pbrun fq2bam --ref /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/01.data/GCF_000149755.1_P.sojae_V3.0_genomic_modified.fna --in-fq /share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean/SRR10321553_1.clean.fq.gz /share/org/YZWL/yzwl_lixg/database/yimeijun/resequence/clean/SRR10321553_2.clean.fq.gz --out-bam /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping/bam/SRR10321553.sorted.bam
[2025-10-11 12:06:35] INFO - ğŸ“‚ å·¥ä½œç›®å½• | Working directory: /share/org/YZWL/yzwl_lixg/project/17.å¤§è±†ç–«éœ‰åŸºå› å˜å¼‚_æç£Š/03.mapping
